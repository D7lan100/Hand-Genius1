{% extends "base.html" %}

{% block title %}Subir Comprobante de Pago{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-info text-white text-center">
      <h4 class="mb-0">üí≥ Subir Comprobante de Pago</h4>
    </div>

    <div class="card-body px-4 py-5">
      <p class="text-center mb-4">
        Tu pedido ha sido generado exitosamente.  
        Por favor, sube tu <strong>comprobante de pago</strong> para continuar con la validaci√≥n.
      </p>

      <form action="{{ url_for('carrito_bp.subir_comprobante', id_pedido=id_pedido) }}" 
            method="POST" enctype="multipart/form-data" class="mx-auto" style="max-width: 500px;">

        <div class="mb-3">
          <label for="metodo_pago" class="form-label fw-semibold">M√©todo de Pago</label>
          <select name="metodo_pago" id="metodo_pago" class="form-select" required>
            <option value="">Seleccione un m√©todo</option>
            <option value="Transferencia bancaria">Transferencia bancaria</option>
            <option value="Dep√≥sito">Dep√≥sito</option>
            <option value="Pago m√≥vil">Pago m√≥vil</option>
            <option value="Efectivo">Efectivo</option>
          </select>
        </div>

        <div class="mb-4">
          <label for="comprobante" class="form-label fw-semibold">Comprobante (imagen o PDF)</label>
          <input type="file" class="form-control" id="comprobante" name="comprobante" 
                 accept=".jpg,.jpeg,.png,.pdf" required>
          <div class="form-text">
            Formatos permitidos: JPG, PNG o PDF ‚Äî Tama√±o m√°ximo: 10MB
          </div>
        </div>

        <div class="d-flex justify-content-between">
          <a href="{{ url_for('carrito_bp.ver') }}" class="btn btn-secondary px-4">
            <i class="bi bi-arrow-left"></i> Volver al carrito
          </a>
          <button type="submit" class="btn btn-success px-4">
            <i class="bi bi-upload"></i> Subir Comprobante
          </button>
        </div>
      </form>
    </div>

    <div class="card-footer text-center text-muted">
      <small>Una vez que subas el comprobante, el administrador verificar√° tu pago.</small>
    </div>
  </div>
</div>
{% endblock %}
